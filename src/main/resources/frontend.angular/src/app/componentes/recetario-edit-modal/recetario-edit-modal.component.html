<div class="btn btn-outline-info card-read-more" data-bs-toggle="modal"
     attr.data-bs-target="{{ '#modalEdit' + recetario.id }}"> Editar <i class="fas fa-edit float-end"></i></div>
<!--  ------------------MODAL-------------------->
<div class="modal fade" attr.id="{{'modalEdit'+recetario.id}}" data-bs-backdrop="static" data-bs-keyboard="false"
     tabindex="-1" attr.aria-labelledby="{{ '#editStaticBackdropLabel-' + recetario.id }}" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" attr.id="{{'editStaticEditBackdropLabel-'+ recetario.id}}">{{recetario.titulo }} -
          Informacion</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="EditClose"
                attr.data-bs-target="{{'#modalEdit-'+recetario.id}}"></button>
      </div>
      <div class="modal-body">
        <div class="input-group mb-3">
          <span class="input-group-text">ID</span>
          <input
            mdbInput
            class="form-control"
            attr.id="{{'id-field-recetario'+recetario.id}}"
            type="text"
            aria-label="id_field"
            [readonly]="true"
            name="{{'idRecetario-'+recetario.id}}"
            [(ngModel)]=recetario.id
          />
          <label mdbLabel class="form-label" attr.for="{{'id-field-recetario'+recetario.id}}"></label>
        </div>

        <div class="input-group mb-3">
          <span class="input-group-text">Titulo</span>
          <input type="text"
                 class="form-control"
                 placeholder="Ingrese el titulo del recetario"
                 aria-label="Recipient's username"
                 aria-describedby="titulo-recetario"
                 name="{{'tituloRecetario-'+recetario.titulo}}"
                 [(ngModel)]=recetario.titulo
          />
        </div>
        <div class="form-label">({{recetario.recetas.length}}) Recetas:</div>
        <div attr.id="{{ 'accordionEdit-' +recetario.id + '-' + indexReceta }}"
             *ngFor="let receta of recetario.recetas; let indexReceta = index">
          <div class="card">
            <div class="card-header" attr.id="{{ 'headingEdit-' + recetario.id + '-' + indexReceta }}">
              <h5 class="mb-0">
                <button style="width: 100%" class="btn btn-link" data-toggle="collapse"
                        attr.data-target="{{'#collapseEdit-' + recetario.id + '-' + indexReceta }}"
                        aria-expanded="false"
                        attr.aria-controls="{{'#collapseEdit-' + recetario.id + '-' + indexReceta }}">
                  {{receta.nombre}}
                </button>
              </h5>
            </div>

            <div attr.id="{{ 'collapseEdit-' + recetario.id + '-' + indexReceta }}" class="accordion-collapse collapse"
                 attr.aria-labelledby="{{'headingEdit-' + recetario.id + '-' + indexReceta }}"
                 attr.data-parent="{{'#accordionEdit-' + recetario.id + '-' + indexReceta }}">
              <div class="card-body" style="  background: whitesmoke;">
                <div class="input-group mb-3">
                  <span class="input-group-text">ID</span>
                  <label mdbLabel class="form-label" attr.for="{{'id-field-receta'+ receta.id}}"></label>
                  <input
                    mdbInput
                    class="form-control"
                    attr.id="{{'id-field-receta-'+ receta.id}}"
                    type="text"
                    aria-label="id_field"
                    [readonly]="true"
                    name="{{'id-receta-'+receta.id}}"
                    [(ngModel)]=receta.id
                  />

                  <div style="margin-top: 15px" class="input-group mb-3">
                    <span class="input-group-text">Titulo</span>
                    <input type="text"
                           class="form-control"
                           placeholder="Ingrese el titulo del recetario"
                           aria-label="titulo-receta"
                           aria-describedby="titulo-receta"
                           name="{{'titulo-receta-'+receta.id}}"
                           [(ngModel)]=receta.nombre
                    />
                  </div>
                  <label class="form-label">({{receta.ingredientes.length}}) Ingredientes: </label>
                  <div *ngFor="let ingrediente of receta.ingredientes; let indexIngrediente = index">
                    <hr>

                    <span style="position: absolute" class="input-group-text">Tipo</span>
                    <select style="width: 80%;margin-left: 60px" class="form-select-lg"
                            [name]="'ingredienteGrupo-'+indexIngrediente"
                            [(ngModel)]="ingrediente.grupo">
                      <option [value]="grupo" *ngFor="let grupo of gruposIngredientes">{{grupo}}</option>
                    </select>

                    <div style="margin-top: 15px" class="input-group mb-3">
                      <span class="input-group-text">Nombre del ingrediente</span>
                      <input type="text"
                             class="form-control"
                             placeholder="Ingrese el nombre de ingrediente"
                             aria-label="Recipient's ingredienteNames"
                             aria-describedby="nombre-ingrediente"
                             name="{{'nombre-ingrediente-'+ingrediente.name}}"
                             [(ngModel)]=ingrediente.nombre
                      />
                    </div>

                    <div class="input-group mb-3">
                      <span class="input-group-text">Calorias</span>
                      <input type="number"
                             class="form-control"
                             placeholder="Ingrese las calorias"
                             aria-label="Recipient's ingredienteCalorias"
                             aria-describedby="calorias-ingrediente"
                             name="{{'calorias-ingrediente-'+ingrediente.calorias}}"
                             [(ngModel)]=ingrediente.calorias
                      />
                    </div>

                    <div class="input-group mb-3">
                      <span class="input-group-text">Cantidad</span>
                      <input type="number"
                             class="form-control"
                             placeholder="Ingrese la cantidad"
                             aria-label="Recipient's ingredienteCalorias"
                             aria-describedby="cantidad-ingrediente"
                             name="{{'cantidad-ingrediente-'+ingrediente.cantidad}}"
                             [(ngModel)]=ingrediente.cantidad
                      />
                    </div>

                    <span style="position: absolute" class="input-group-text">Unidades</span>
                    <select style="width: 80%;margin-left: 92px;" class="form-select-lg"
                            [name]="'ingrediente-unidad-'+indexIngrediente"
                            [(ngModel)]="ingrediente.unidad">
                      <option [value]="unidad" *ngFor="let unidad of unidadesIngredientes">{{unidad}}</option>
                    </select>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button (click)="guardarCambios()" type="button" class="btn btn-primary" data-bs-dismiss="modal">Guardar
          Cambios
        </button>
      </div>
    </div>
  </div>
</div>
